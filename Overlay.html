
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cr√©ateur d'Overlay Pro</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { background-color: #0f172a; color: #f8fafc; }
        .preview-container {
            background-image: radial-gradient(#334155 1px, transparent 1px);
            background-size: 20px 20px;
        }
        .code-block { background-color: #000; color: #10b981; font-family: monospace; }
        
        /* KEYFRAMES UNIVERSELLES */
        @keyframes fadeIn { from { opacity: 0; transform: scale(0.9); } to { opacity: 1; transform: scale(1); } }
        @keyframes fadeOut { from { opacity: 1; transform: scale(1); } to { opacity: 0; transform: scale(0.9); } }
        @keyframes slideLeftIn { from { transform: translateX(-100%); opacity: 0; } to { transform: translateX(0); opacity: 1; } }
        @keyframes slideLeftOut { from { transform: translateX(0); opacity: 1; } to { transform: translateX(-100%); opacity: 0; } }
        @keyframes slideRightIn { from { transform: translateX(100%); opacity: 0; } to { transform: translateX(0); opacity: 1; } }
        @keyframes slideRightOut { from { transform: translateX(0); opacity: 1; } to { transform: translateX(100%); opacity: 0; } }
        @keyframes bounceIn { 0% { transform: scale(0.3); opacity: 0; } 50% { transform: scale(1.05); } 100% { transform: scale(1); opacity: 1; } }
        @keyframes bounceOut { 0% { transform: scale(1); opacity: 1; } 100% { transform: scale(0); opacity: 0; } }
        @keyframes zoomIn { from { transform: scale(2); opacity: 0; } to { transform: scale(1); opacity: 1; } }
        @keyframes zoomOut { from { transform: scale(1); opacity: 1; } to { transform: scale(2); opacity: 0; } }
        @keyframes rotateIn { from { transform: rotate(-180deg) scale(0); opacity: 0; } to { transform: rotate(0) scale(1); opacity: 1; } }
        @keyframes rotateOut { from { transform: rotate(0) scale(1); opacity: 1; } to { transform: rotate(180deg) scale(0); opacity: 0; } }
        @keyframes flipIn { from { transform: perspective(400px) rotateX(90deg); opacity: 0; } to { transform: perspective(400px) rotateX(0); opacity: 1; } }
        @keyframes flipOut { from { transform: perspective(400px) rotateX(0); opacity: 1; } to { transform: perspective(400px) rotateX(90deg); opacity: 0; } }
        @keyframes swingIn { 0% { transform: rotateX(-100deg); transform-origin: top; opacity: 0; } 100% { transform: rotateX(0deg); transform-origin: top; opacity: 1; } }
        @keyframes swingOut { 0% { transform: rotateX(0deg); opacity: 1; } 100% { transform: rotateX(-100deg); opacity: 0; } }
        @keyframes rollIn { from { transform: translateX(-100%) rotate(-120deg); opacity: 0; } to { transform: translateX(0) rotate(0deg); opacity: 1; } }
        @keyframes rollOut { from { transform: translateX(0) rotate(0deg); opacity: 1; } to { transform: translateX(100%) rotate(120deg); opacity: 0; } }
        @keyframes flashIn { 0%, 50%, 100% { opacity: 1; } 25%, 75% { opacity: 0; } }
        @keyframes flashOut { from { opacity: 1; } to { opacity: 0; } }

        .hidden-overlay { opacity: 0; pointer-events: none; }
        .svg-icon { width: 32px; height: 32px; fill: currentColor; display: block; }
    </style>
</head>
<body class="min-h-screen p-4 md:p-8 relative">
    <!-- Bouton Quitter -->
    <a href="Creator_Studio.html" class="fixed top-4 right-4 z-50 flex items-center space-x-2 bg-slate-800 hover:bg-red-900/40 border border-slate-700 hover:border-red-500 text-slate-300 hover:text-white px-4 py-2 rounded-xl transition-all shadow-lg group">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="group-hover:-translate-x-1 transition-transform"><path d="m15 18-6-6 6-6"/></svg>
        <span class="font-medium">Quitter vers le Studio</span>
    </a>

    <div class="max-w-6xl mx-auto">
        <header class="mb-8 text-center">
            <h1 class="text-3xl font-bold mb-2 text-indigo-400">Cr√©ateur d'Overlay Pro</h1>
            <p class="text-slate-400">G√©n√©rez vos banni√®res anim√©es avec logos officiels</p>
        </header>

        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
            <!-- Configuration -->
            <div class="bg-slate-800 p-6 rounded-2xl shadow-xl border border-slate-700 space-y-5 overflow-y-auto max-h-[85vh]">
                <h2 class="text-xl font-semibold flex items-center"><span class="mr-2">‚öôÔ∏è</span> R√©glages</h2>
                
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm font-medium mb-1 text-slate-300">R√©seau Social</label>
                        <select id="logoSelect" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-2 outline-none">
                            <option value="none">Aucun</option>
                            <option value="youtube">YouTube</option>
                            <option value="twitch">Twitch</option>
                            <option value="discord">Discord</option>
                            <option value="x">X (Twitter)</option>
                            <option value="instagram">Instagram</option>
                            <option value="tiktok">TikTok</option>
                            <option value="snapchat">Snapchat</option>
                            <option value="kick">Kick</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-1 text-slate-300">Forme du cadre</label>
                        <select id="frameStyle" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-2 outline-none">
                            <option value="0px">Rectangle (Droit)</option>
                            <option value="12px" selected>Arrondi l√©ger</option>
                            <option value="50px">Pilule (Rond)</option>
                            <option value="20px 0px 20px 0px">Coup√© (Gaming)</option>
                        </select>
                    </div>
                </div>

                <div class="grid grid-cols-2 gap-4">
                    <div class="col-span-1">
                        <label class="block text-sm font-medium mb-1 text-slate-300">Pseudo / Message</label>
                        <input type="text" id="textInput" value="MonPseudo_OFF" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-2 outline-none">
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-1 text-slate-300">Animation</label>
                        <select id="animStyle" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-2 outline-none">
                            <option value="fade">Fondu Doux</option>
                            <option value="slideLeft">Glissement Gauche</option>
                            <option value="slideRight">Glissement Droite</option>
                            <option value="bounce">Rebond (Bounce)</option>
                            <option value="zoom">Zoom Arri√®re</option>
                            <option value="rotate">Rotation (Twirl)</option>
                            <option value="flip">Retournement (Flip)</option>
                            <option value="swing">Balan√ßoire (Swing)</option>
                            <option value="roll">Roulade (Roll)</option>
                            <option value="flash">Flash (Clignotant)</option>
                        </select>
                    </div>
                </div>

                <!-- Timings Avanc√©s -->
                <div class="space-y-4 bg-slate-900/50 p-4 rounded-xl border border-slate-700">
                    <div class="flex justify-between items-center">
                        <h3 class="text-xs font-bold uppercase text-indigo-300 italic">Temps (en Secondes)</h3>
                        <span id="minuteHelper" class="text-[10px] text-slate-500 italic">60s = 1 minute</span>
                    </div>
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label class="text-[10px] text-slate-400">Apparition</label>
                            <input type="number" id="durIn" value="0.8" step="0.1" min="0.1" class="w-full bg-slate-800 border border-slate-700 rounded p-1 text-sm">
                        </div>
                        <div>
                            <label class="text-[10px] text-slate-400">Temps visible</label>
                            <input type="number" id="durWait" value="5.0" step="0.1" min="0.1" class="w-full bg-slate-800 border border-slate-700 rounded p-1 text-sm">
                        </div>
                        <div>
                            <label class="text-[10px] text-slate-400">Disparition</label>
                            <input type="number" id="durOut" value="0.8" step="0.1" min="0.1" class="w-full bg-slate-800 border border-slate-700 rounded p-1 text-sm">
                        </div>
                        <div>
                            <label class="text-[10px] text-indigo-300 font-bold">Pause entre r√©p√©titions</label>
                            <input type="number" id="durRepeat" value="30.0" step="1" min="1" class="w-full bg-slate-800 border border-indigo-500 rounded p-1 text-sm text-indigo-200">
                        </div>
                    </div>
                </div>

                <div class="grid grid-cols-2 gap-4">
                    <input type="color" id="bgColor" value="#5865F2" class="w-full h-10 bg-slate-900 border border-slate-700 rounded-lg p-1 cursor-pointer">
                    <button id="btnTest" class="bg-indigo-600 hover:bg-indigo-500 text-white font-bold rounded-lg transition-transform active:scale-95 shadow-lg">Lancer l'aper√ßu</button>
                </div>

                <div class="mt-4">
                    <h3 class="text-sm font-semibold text-slate-500 mb-2 uppercase">Code source (Boucle incluse)</h3>
                    <div class="relative">
                        <pre id="generatedCode" class="code-block p-4 rounded-lg text-[9px] overflow-x-auto max-h-48"></pre>
                        <button onclick="copyCode()" class="absolute top-2 right-2 bg-indigo-600 hover:bg-indigo-700 text-white text-[10px] px-2 py-1 rounded">COPIER LE CODE</button>
                    </div>
                </div>
            </div>

            <!-- Aper√ßu -->
            <div class="flex flex-col">
                <h2 class="text-xl font-semibold mb-6 flex items-center"><span class="mr-2">üëÅÔ∏è</span> Rendu R√©el</h2>
                <div class="preview-container flex-grow min-h-[400px] border-2 border-dashed border-slate-700 rounded-2xl flex items-center justify-center relative overflow-hidden text-center">
                    <div id="previewOverlay" class="flex items-center space-x-4 px-8 py-4 font-bold text-2xl shadow-2xl hidden-overlay">
                        <div id="iconContainer"></div>
                        <span id="previewText">MonPseudo_OFF</span>
                    </div>
                </div>
                <p class="mt-4 text-xs text-slate-500 text-center italic">Le test simule une seule apparition. Le code g√©n√©r√© tournera en boucle sur OBS.</p>
            </div>
        </div>
    </div>

    <div id="toast" class="fixed bottom-5 right-5 bg-emerald-600 text-white px-6 py-3 rounded-xl shadow-lg transform translate-y-20 transition-transform duration-300 opacity-0">Copi√© avec succ√®s !</div>

    <script>
        // Biblioth√®que de logos SVG officiels optimis√©s
        const officialLogos = {
            youtube: `<svg class="svg-icon" viewBox="0 0 24 24"><path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/></svg>`,
            twitch: `<svg class="svg-icon" viewBox="0 0 24 24"><path d="M11.571 4.714h1.715v5.143H11.57zm4.715 0H18v5.143h-1.714zM6 0L1.714 4.286v15.428h5.143V24l4.286-4.286h3.428L22.286 12V0zm14.571 11.143l-3.428 3.428h-3.429l-3 3v-3H6.857V1.714h13.714Z"/></svg>`,
            discord: `<svg class="svg-icon" viewBox="0 0 24 24"><path d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037 19.736 19.736 0 0 0-4.885 1.515.069.069 0 0 0-.032.027C.533 9.048-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028 14.09 14.09 0 0 0 1.226-1.994.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.196.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.419-2.157 2.419zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.419-2.157 2.419z"/></svg>`,
            x: `<svg class="svg-icon" viewBox="0 0 24 24"><path d="M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584-6.638 7.584H.474l8.6-9.83L0 1.154h7.594l5.243 6.932ZM17.61 20.644h2.039L6.486 3.24H4.298Z"/></svg>`,
            instagram: `<svg class="svg-icon" viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 1.17.054 1.805.249 2.227.415.562.217.96.477 1.382.896.419.42.679.819.896 1.381.164.422.36 1.057.413 2.227.057 1.266.07 1.646.07 4.85s-.015 3.585-.074 4.85c-.061 1.17-.256 1.805-.421 2.227-.224.562-.479.96-.899 1.382-.419.419-.824.679-1.38.896-.42.164-1.065.36-2.235.413-1.274.057-1.649.07-4.859.07s-3.585-.015-4.85-.074c-1.17-.061-1.805-.256-2.227-.421-.562-.224-.96-.479-1.382-.899-.419-.419-.679-.824-.896-1.38-.164-.42-.36-1.065-.413-2.235-.057-1.274-.07-1.649-.07-4.859s.015-3.585.074-4.85c.061-1.17.256-1.805.421-2.227.224-.562.479-.96.899-1.382.419-.419.824-.679 1.38-.896.42-.164 1.065-.36 2.235-.413 1.274-.057 1.649-.07 4.859-.07ZM12 0C8.741 0 8.333.014 7.053.072 5.775.132 4.905.333 4.14.63c-.789.306-1.459.717-2.126 1.384S.935 3.35.63 4.14C.333 4.905.131 5.775.072 7.053.012 8.333 0 8.74 0 12s.012 3.667.072 4.947c.06 1.277.261 2.148.558 2.913.306.788.717 1.459 1.384 2.126.667.666 1.336 1.079 2.126 1.384.766.296 1.636.499 2.913.558C8.333 23.988 8.74 24 12 24s3.667-.012 4.947-.072c1.277-.06 2.148-.262 2.913-.558.788-.306 1.459-.718 2.126-1.384.666-.667 1.079-1.335 1.384-2.126.296-.765.499-1.636.558-2.913.06-1.28.072-1.687.072-4.947s-.012-3.667-.072-4.947c-.06-1.277-.262-2.149-.558-2.913-.306-.789-.718-1.459-1.384-2.126C21.335.935 20.665.492 19.876.188c-.765-.297-1.636-.499-2.913-.558C15.667.012 15.26 0 12 0Zm0 5.838a6.162 6.162 0 1 0 0 12.324 6.162 6.162 0 0 0 0-12.324ZM12 16a4 4 0 1 1 0-8 4 4 0 0 1 0 8Zm6.406-11.845a1.44 1.44 0 1 0 0 2.881 1.44 1.44 0 0 0 0-2.881Z"/></svg>`,
            tiktok: `<svg class="svg-icon" viewBox="0 0 24 24"><path d="M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.06-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-1.43.08-2.86-.31-4.08-1.03-2.02-1.19-3.44-3.37-3.65-5.71-.02-.5-.03-1-.01-1.49.18-1.9 1.12-3.72 2.58-4.96 1.66-1.44 3.98-2.13 6.15-1.72.02 1.48-.04 2.96-.04 4.44-.9-.32-1.98-.23-2.81.33-.85.51-1.44 1.42-1.58 2.41-.02.48.04.97.16 1.43.27 1.05 1.08 1.97 2.1 2.37 1 .39 2.14.31 3.08-.24.83-.48 1.35-1.34 1.5-2.28.08-1.13.06-2.26.06-3.39l.01-10.42z"/></svg>`,
            snapchat: `<svg class="svg-icon" viewBox="0 0 24 24"><path d="M11.956 0c-3.14 0-5.32 1.83-6.24 3.59-.28.53-.4 1.25-.4 2.14 0 .96.24 2.21.72 3.73.1.33.1.58 0 .76-.11.17-.4.29-.87.35-.93.12-1.47.41-1.59.86-.06.24-.03.55.13.9.2.46.73.85 1.61 1.14.16.05.24.11.24.19 0 .15-.22.41-.65.77a7.65 7.65 0 0 0-1.54 1.84c-.45.79-.67 1.51-.67 2.18 0 .47.16.8.48.98.34.2.82.3 1.43.3.36 0 .76-.04 1.18-.12.44-.09.77-.14.98-.14.24 0 .44.08.6.25.17.16.32.41.43.76.24.71.6 1.25 1.08 1.62.53.4 1.18.6 1.93.6.76 0 1.41-.2 1.95-.6.48-.37.84-.91 1.08-1.62.11-.35.26-.6.44-.76.16-.17.36-.25.59-.25.21 0 .54.05.99.14.41.08.81.12 1.17.12.62 0 1.1-.1 1.44-.3.32-.18.48-.51.48-.98 0-.67-.22-1.39-.67-2.18a7.65 7.65 0 0 0-1.54-1.84c-.44-.36-.66-.62-.66-.77 0-.08.08-.14.25-.19.87-.29 1.4-.68 1.6-1.14.17-.35.19-.66.13-.9-.12-.45-.66-.74-1.6-.86-.46-.06-.75-.18-.86-.35-.1-.18-.1-.43 0-.76.49-1.52.73-2.77.73-3.73 0-.89-.13-1.61-.41-2.14C17.276 1.83 15.106 0 11.956 0z"/></svg>`,
            kick: `<svg class="svg-icon" viewBox="0 0 24 24"><path d="M19.167 0H4.833A4.833 4.833 0 0 0 0 4.833v14.334A4.833 4.833 0 0 0 4.833 24h14.334A4.833 4.833 0 0 0 24 19.167V4.833A4.833 4.833 0 0 0 19.167 0ZM14 17h-3v-2.5l-2.5-2.5V17H6V7h2.5v5.5l2.5-2.5V7h3l-3.5 5 3.5 5Z"/></svg>`,
        };

        function update() {
            const logoKey = document.getElementById('logoSelect').value;
            const frame = document.getElementById('frameStyle').value;
            const text = document.getElementById('textInput').value;
            const bg = document.getElementById('bgColor').value;
            
            const inT = parseFloat(document.getElementById('durIn').value) || 0.1;
            const waitT = parseFloat(document.getElementById('durWait').value) || 0.1;
            const outT = parseFloat(document.getElementById('durOut').value) || 0.1;
            const repeatT = parseFloat(document.getElementById('durRepeat').value) || 1;

            const totalDuration = inT + waitT + outT + repeatT;

            // Aide pour les minutes
            document.getElementById('minuteHelper').innerText = repeatT >= 60 ? (repeatT / 60).toFixed(1) + " min" : "En secondes";

            // Mise √† jour de l'aper√ßu
            const iconContainer = document.getElementById('iconContainer');
            iconContainer.innerHTML = officialLogos[logoKey] || '';
            document.getElementById('previewText').innerText = text;
            const overlay = document.getElementById('previewOverlay');
            overlay.style.backgroundColor = bg;
            overlay.style.borderRadius = frame;

            // Calcul des pourcentages pour la boucle infinie CSS
            const pInEnd = (inT / totalDuration) * 100;
            const pWaitEnd = ((inT + waitT) / totalDuration) * 100;
            const pOutEnd = ((inT + waitT + outT) / totalDuration) * 100;

            const htmlSource = `
<!-- COLLER CE CODE DANS VOTRE SOURCE NAVIGATEUR OBS -->
<div class="obs-overlay">
    ${logoKey !== 'none' ? `<div class="logo-box">${officialLogos[logoKey]}</div>` : ''}
    <span class="label">${text}</span>
</div>

<style>
.obs-overlay {
    display: flex;
    align-items: center;
    gap: 16px;
    padding: 14px 28px;
    background: ${bg};
    color: white;
    border-radius: ${frame};
    font-family: 'Arial Rounded MT Bold', 'Helvetica', sans-serif;
    font-weight: bold;
    font-size: 24px;
    width: fit-content;
    box-shadow: 0 10px 30px rgba(0,0,0,0.5);
    opacity: 0;
    
    /* Cycle complet de ${totalDuration.toFixed(1)}s */
    animation: loopCycle ${totalDuration}s ease-in-out infinite;
}

.logo-box { display: flex; align-items: center; justify-content: center; }
.logo-box svg { width: 32px; height: 32px; fill: white; }

/* Logique de boucle infinie */
@keyframes loopCycle {
    0% { opacity: 0; transform: scale(0.9); }
    ${pInEnd.toFixed(2)}% { opacity: 1; transform: scale(1); }
    ${pWaitEnd.toFixed(2)}% { opacity: 1; transform: scale(1); }
    ${pOutEnd.toFixed(2)}% { opacity: 0; transform: scale(0.9); }
    100% { opacity: 0; }
}
</style>
`.trim();

            document.getElementById('generatedCode').textContent = htmlSource;
        }

        function runTest() {
            const overlay = document.getElementById('previewOverlay');
            const style = document.getElementById('animStyle').value;
            const inT = parseFloat(document.getElementById('durIn').value);
            const waitT = parseFloat(document.getElementById('durWait').value);
            const outT = parseFloat(document.getElementById('durOut').value);

            const inAnim = style + 'In';
            const outAnim = style + 'Out';

            overlay.style.animation = 'none';
            overlay.offsetHeight; 
            overlay.classList.remove('hidden-overlay');
            
            overlay.style.animation = `
                ${inAnim} ${inT}s ease-out forwards,
                ${outAnim} ${outT}s ease-in ${inT + waitT}s forwards
            `;
        }

        function copyCode() {
            const code = document.getElementById('generatedCode').textContent;
            const textArea = document.createElement("textarea");
            textArea.value = code;
            document.body.appendChild(textArea);
            textArea.select();
            document.execCommand('copy');
            document.body.removeChild(textArea);
            const toast = document.getElementById('toast');
            toast.classList.remove('translate-y-20', 'opacity-0');
            setTimeout(() => toast.classList.add('translate-y-20', 'opacity-0'), 2000);
        }

        document.querySelectorAll('input, select').forEach(el => el.addEventListener('input', update));
        document.getElementById('btnTest').addEventListener('click', runTest);
        
        // Initialisation
        update();
    </script>
</body>
</html>
